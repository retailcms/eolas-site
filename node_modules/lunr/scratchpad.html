<h1>Lunr.js v<span class="version"></span></h1>
<dl></dl>

<style>
  dt {
      font-weight: bold;
      margin-bottom: 10px;
  }

  dd {
      margin-left: 0;
      margin-bottom: 20px;
  }
</style>

<script src="/lunr.js"></script>

<script>
  var idx = lunr(function () {
      this.field('text')
      this.field('capitalised_tags')
      this.field('lower_case_tags')
  })


  var doc = {
      id: 1,
      text: 'Excavator',
      capitalised_tags: [
          "Foo", "Bar"
        ],
      lower_case_tags: [
          "baz", "qux"
        ],
  }

  idx.add(doc)

  var dl = document.querySelector('dl')

  document.querySelector('.version').innerText = lunr.version

  var showResults = function (query) {
      var dt = document.createElement('dt'),
          dd = document.createElement('dd'),
          results = idx.search(query),
          stemmed = lunr.stemmer(query),
          score = results[0] && results[0].score

      dt.innerText = [query, stemmed].join(" -> ")
    
      if (results.length) {
          dd.innerText = "score: " + score
      } else {
          dd.innerText = "no results"
      }
    
      dl.appendChild(dt)
      dl.appendChild(dd)
  }

  // Add queries here and the score will be shown in the results

  showResults('Foo')
  showResults('bar')

  showResults('baz')
  showResults('Qux')
</script>
